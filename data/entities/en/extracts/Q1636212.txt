The Karabakh Khanate (Persian: خانات قره‌باغ‎ – Xānāt e Qarebāq, Azerbaijani: Qarabağ xanlığı) was a semi-independent Turkic khanate on the territories of modern-day Armenia and Azerbaijan established in about 1748 under Iranian suzerainty in Karabakh and adjacent areas. The Karabakh khanate existed until 1806, when the Russian Empire gained control over it from Iran. The Russian annexation of Karabakh was not formalized until the Treaty of Gulistan in 1813, when, as a result of Russo-Persian War (1804–13), Fath-Ali Shah of Iran officially ceded Karabakh to Tsar Alexander I of Russia. The khanate was abolished in 1822, after a few years of Russian tolerance towards its Muslim rulers, and a province, with a military administration, was formed.On May 14, 1805 amidst the still ongoing Russo-Persian War of 1804–1813, Ibrahim Khalil Khan and the Russian general Pavel Tsitsianov signed an agreement transferring the Karabakh khanate under Russian dominion. However, the agreement was of little value, as the borders were changing constantly up to the end of the war in 1813. Following the Russian violation of the agreement that recognized Ibrahim Khalil Khan and his descendants as rulers of Karabakh in perpetuity, by abolishing the khanate in 1822, a military administration had been formed. Russian control was decisively confirmed with Iran by the Treaty of Turkmenchay of 1828.